<h1 class="mat-h1">Proportions</h1>
<div [formGroup]="formGroup" fxLayout="row" fxLayout.xs="column" fxFlexFill [style.margin-left]="'10px'" fxLayoutGap="12px">
    <div fxFlex="75" fxFlex.xs="55">
      <mat-table class="full-width-table mat-elevation-z2" style="margin-bottom: 10px" aria-label="Elements"
        formArrayName="array" [dataSource]="dataSource">

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
          <mat-cell *matCellDef="let row, let index = index" [formGroupName]="index">
            <mat-form-field>
              <input id="name-input-{{index}}" matInput formControlName="name">
            </mat-form-field>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="weight">
          <mat-header-cell *matHeaderCellDef>Weight</mat-header-cell>
          <mat-cell *matCellDef="let row, let index = index" [formGroupName]="index">
            <mat-form-field>
              <input id="weight-input-{{index}}" matInput type="number" formControlName="weight">
            </mat-form-field>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="percentage">
          <mat-header-cell *matHeaderCellDef>Percentage</mat-header-cell>
          <mat-cell *matCellDef="let row, let index = index">
            <span id="percentage-{{index}}">{{ row.percentage }}%</span>
          </mat-cell>
        </ng-container>
      </mat-table>

      <div>
        <button mat-flat-button color="primary" style="margin-right: 10px;" aria-label="click to add another ingredient"
          (click)="add()">
          Add
        </button>
        <button mat-stroked-button color="basic" (click)="import()" style="margin-bottom: 10px; margin-right: 10px;">
          Import
        </button>
        <button mat-stroked-button color="basic" (click)="export()" style="margin-bottom: 10px; margin-right: 10px;">
          Export
        </button>
        <mat-slider style="width: 300px" max="2" min=".25" step=".25" thumbLabel title="Scale" tickInterval="1"
          [formControl]="scaleFormControl">
        </mat-slider>
      </div>

      <div>
        <mat-form-field>
          <mat-label>Recipe text</mat-label>
          <textarea matInput cdkTextareaAutosize [formControl]="recipeText"></textarea>
        </mat-form-field>
      </div>
    </div>
    <div class="mat-app-background" fxFlex="25">
      <mat-selection-list #p formControlName="preset" [multiple]="false">
        <mat-list-option *ngFor="let p of PRESETS" [value]="p">
          {{ p.name }}
        </mat-list-option>
      </mat-selection-list>
    </div>
</div>
